<!-- Random posts looping -->

<script type="text/javascript">

  var postsHREF = [{% for post in site.posts %}"{{ post.url }}"{% unless forloop.last %}, {% endunless %} {% endfor %}];

  var postsTitle = [{% for post in site.posts %}"{{ post.title }}"{% unless forloop.last %}, {% endunless %} {% endfor %}];

</script>

<script type="text/javascript">

  var randomIndexUsed = [];
  var counter = 0;
  var numberOfPosts = 5;

  while (counter < numberOfPosts) {
    var randomIndex;
    var postHREF;
    var postTitle;

    randomIndex = Math.floor(Math.random() * postsHREF.length);

    if (randomIndexUsed.indexOf(randomIndex) == "-1") {
      postHREF = postsHREF[randomIndex];
      postTitle = postsTitle[randomIndex];

      if (counter == (numberOfPosts - 1)) {
        const ui = `
     <li class="sidebar-post">
       <a href="${postHREF}" target="_blank" class="sidebar-post__link">
         ${postTitle}
       </a>
     </li>
    `;
        document.write(`${ui}`);
      }
      else {
        const ui = `
      <li class="sidebar-post">
        <a href="${postHREF}" target="_blank" class="sidebar-post__link">
          ${postTitle}
        </a>
      </li>
    `;

        document.write(`${ui}`);
      }

      randomIndexUsed.push(randomIndex);

      counter++;
    }
  }

</script>